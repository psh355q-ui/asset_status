# PRD (제품 요구사항 정의서)

> 이 문서는 비기술자의 언어로 쉽고 비유적으로 작성합니다.

---

## MVP 캡슐

| # | 항목 | 내용 |
|---|------|------|
| 1 | 목표 | 예금만 하던 투자 초보자가 AI 조언을 받으며 적극적으로 자산을 증식할 수 있도록 지원 |
| 2 | 페르소나 | 30대 후반 직장인, 투자 경험 없음, 가용자산 2억원, 월급 400만원 |
| 3 | 핵심 기능 | FEAT-1: 계좌별 자산현황 조회, FEAT-2: AI 투자조언 (매수/매도 추천) |
| 4 | 성공 지표 (노스스타) | 1년 자산 10% 증가 |
| 5 | 입력 지표 | AI 조언 vs 실제 결과 비교 (백테스팅), 주간 대시보드 확인 3회 이상 |
| 6 | 비기능 요구 | 모바일 반응형 웹, 데이터 영속성 (로컬 PC/NAS), 5초 이내 응답 |
| 7 | Out-of-scope | 증권사 계좌 자동 연동, 자동 매매, 세금 계산, 알림 시스템 |
| 8 | Top 리스크 | AI 조언이 부정확하여 사용자가 손실을 입을 가능성 |
| 9 | 완화/실험 | AI 조언 히스토리 추적, 백테스팅으로 정확도 개선, 면책 고지 |
| 10 | 다음 단계 | TRD, Database Design 작성 후 API 계약 정의 (Phase 0) |

---

## 1. 문제 정의

### 1.1 현재 상황 (As-Is)

직장인 민수씨는 2억원의 가용자산이 있지만, 지금까지 **예금**만 해왔습니다.

민수씨가 겪는 문제:
- 📱 **여러 계좌를 번갈아 보는 불편함**: ISA, 연금저축, 해외주식, 국내주식 계좌가 각각 다른 앱에 있어서, 총 자산이 얼마인지 한눈에 파악 불가
- 🤔 **비효율 파악 불가**: 어느 계좌에 얼마나 배분해야 하는지, 포트폴리오가 제대로 운용되고 있는지 알 수 없음
- 💸 **총 소득 가시화 부족**: 월급, 배당금, 주식 수익 등 모든 소득을 통합해서 볼 수 없음
- 😰 **투자 결정의 어려움**: 언제 사고 팔아야 할지 몰라서 FOMO(기회를 놓칠까 봐 불안)를 자주 느낌

### 1.2 목표 상황 (To-Be)

민수씨는 **휴대폰으로 언제든지**:
- ✅ 모든 계좌의 자산 현황을 **한눈에** 확인
- ✅ AI가 **"지금 삼성전자 50주 매도 추천"** 같은 구체적 조언 제공
- ✅ 월급이 들어오면 계좌별로 **얼마씩 배분**할지 명확히 파악
- ✅ 배당금이 언제 얼마나 들어올지 **일정 확인**
- ✅ **1년 후 자산 10% 증가** 달성

### 1.3 왜 지금인가? (Why Now)

- **동기**: 예금 이자율이 낮아져서, 더 이상 예금만으로는 자산 증식이 어려움
- **FOMO**: 주변에서 주식으로 수익을 내는 걸 보며 "나도 시작해야 하는데" 라는 생각
- **환경**: 로컬 PC/NAS 활용으로 비용 없이 개인 서버 운영 가능
- **AI 기술**: AI 투자 조언 기술이 성숙하여 초보자도 신뢰할 만한 가이드 제공 가능

---

## 2. 사용자 페르소나

### 2.1 주요 페르소나

| 항목 | 내용 |
|------|------|
| 이름/별칭 | "초보 투자자 민수" |
| 나이/직업 | 30대 후반 회사원 |
| 핵심 니즈 | 투자로 자산 증식하고 싶지만, 뭘 해야 할지 모르겠음 |
| 불편 포인트 | 여러 증권사 앱을 왔다 갔다 하며 확인하는 번거로움, 투자 결정의 어려움 |
| 사용 상황 | 거의 항상 (휴대폰 들 때마다 자산 확인), 고빈도 조회 |

### 2.2 페르소나의 하루 (시나리오)

**오전 7시 - 출근 전**
- 민수씨는 커피를 마시며 휴대폰으로 **자산관리현황** 앱을 엽니다.
- 어제보다 총자산이 +50만원 올랐다는 걸 한눈에 확인합니다. 😊
- AI가 "미국 나스닥이 어제 3% 하락했으니, QQQ 추가 매수 타이밍입니다"라는 조언을 줍니다.

**점심시간 - 휴게실**
- 동료가 "요즘 배당주가 좋다던데?"라고 물어봅니다.
- 민수씨는 앱에서 **배당금 캘린더**를 보여주며 "이번 달 배당금 15만원 들어와"라고 자랑합니다.

**저녁 9시 - 집**
- 월급날이라 400만원이 입금되었습니다.
- 앱에서 **월급 배분 기능**으로 "ISA 100만원, 연금저축 50만원, 일반계좌 50만원" 자동 제안을 받고, 확인 버튼만 누르면 완료.

**주말 - 리뷰**
- 주간 리포트에서 "AI 조언대로 했다면 +3% 수익"이라는 백테스팅 결과를 확인합니다.
- "다음 주부터는 AI 조언을 따라야겠다"고 결심합니다.

---

## 3. 사용자 스토리

### FEAT-0: 공통 흐름 (온보딩/로그인)

- [ ] 사용자로서, 간편하게 계정을 생성할 수 있어야 한다. 왜냐하면 개인용이므로 복잡한 인증은 불필요.
- [ ] 사용자로서, 로컬 PC/NAS 접속 URL을 저장할 수 있어야 한다. 왜냐하면 매번 IP 주소를 입력하기 번거로움.

### FEAT-1: 계좌별 자산현황 조회 (MVP)

- [ ] 민수로서, **모든 계좌의 총 평가액**을 한눈에 볼 수 있어야 한다. 왜냐하면 내 전체 자산이 얼마인지 알아야 투자 계획을 세울 수 있음.
- [ ] 민수로서, **계좌별 보유 주식 목록**을 볼 수 있어야 한다. 왜냐하면 어느 계좌에 무슨 주식이 있는지 파악해야 함.
- [ ] 민수로서, **실현 수익 vs 미실현 수익**을 구분해서 볼 수 있어야 한다. 왜냐하면 실제로 손에 들어온 돈과 아직 팔지 않은 수익을 구분하고 싶음.
- [ ] 민수로서, **매수/매도 거래를 수동으로 입력**할 수 있어야 한다. 왜냐하면 증권사 API 연동이 불가능하므로.

### FEAT-2: AI 투자조언 (MVP)

- [ ] 민수로서, **보유 주식에 대한 매수/매도 추천**을 받을 수 있어야 한다. 왜냐하면 투자 초보라 언제 사고 팔아야 할지 모르겠음.
- [ ] 민수로서, AI 조언의 **근거를 간결하게 먼저** 보고, 상세 분석은 펼쳐서 볼 수 있어야 한다. 왜냐하면 바쁠 때는 결론만 보고, 여유 있을 때 자세히 읽고 싶음.
- [ ] 민수로서, **AI 조언 히스토리**를 볼 수 있어야 한다. 왜냐하면 과거 조언이 맞았는지 틀렸는지 추적하고 싶음.
- [ ] 민수로서, **"AI 조언대로 했다면"** 시뮬레이션 결과를 볼 수 있어야 한다. 왜냐하면 AI의 정확도를 검증하고 싶음.

### FEAT-3: 배당금 캘린더 (v2 이후)

- [ ] 민수로서, 월별로 어떤 주식에서 얼마의 배당금이 들어오는지 볼 수 있어야 한다.
- [ ] 민수로서, 연간 예상 배당금 총액을 볼 수 있어야 한다.

### FEAT-4: 포트폴리오 배분 (v2 이후)

- [ ] 민수로서, 목표 포트폴리오 비율을 설정하고, 현재 비율과 비교할 수 있어야 한다.
- [ ] 민수로서, 리밸런싱 필요 여부를 알림받을 수 있어야 한다.

---

## 4. 성공 지표

### 4.1 노스스타 지표 (결과 지표)

| 지표명 | 정의 | 목표치 | 측정 주기 |
|--------|------|--------|----------|
| 총자산 증가율 | (현재 총자산 - 1년 전 총자산) / 1년 전 총자산 | +10% | 연간 |

### 4.2 입력 지표 (행동 지표)

| 지표명 | 정의 | 목표치 |
|--------|------|--------|
| AI 조언 정확도 | AI 조언대로 했을 때 성공률 | ≥ 60% |
| 주간 대시보드 확인 | 주당 앱 접속 횟수 | ≥ 3회 |
| 거래 내역 입력 | 월 평균 거래 입력 건수 | ≥ 5건 |

---

## 5. 범위 관리

### 5.1 MVP (반드시 포함)

- FEAT-1: 계좌별 자산현황 조회
  - 거래 내역 수동 입력
  - 현재 보유 수량/평가액 자동 계산
  - 실현/미실현 수익 표시
- FEAT-2: AI 투자조언
  - 보유 주식 매수/매도 추천
  - 조언 근거 표시
  - AI 조언 히스토리 추적
- FEAT-0: 기본 온보딩/로그인
  - 간단한 계정 생성
  - 로컬 PC/NAS 접속

### 5.2 옵션 (시간 허용 시)

- 배당금 캘린더 (FEAT-3)
- 월급 자동 배분 제안

### 5.3 Non-goals (명시적 제외)

- ❌ **증권사 계좌 자동 연동**: 공개 API가 없고, 스크래핑은 법적 리스크
- ❌ **자동 매매**: 법적 책임 문제, 투자 손실 책임
- ❌ **세금 계산**: 복잡도 높음, MVP 범위 초과
- ❌ **멀티 유저 지원**: 개인용만 사용
- ❌ **모바일 네이티브 앱**: 웹으로 충분

---

## 6. 가정과 리스크

### 6.1 핵심 가정

| # | 가정 | 검증 방법 |
|---|------|----------|
| 1 | 사용자가 매 거래마다 수동 입력을 귀찮아하지 않을 것 | MVP 사용 후 피드백 수집 |
| 2 | yfinance API로 한국/미국 주식 현재가 조회 가능 | 기술 검증 (Phase 0) |
| 3 | AI 조언이 충분히 정확할 것 (≥ 60%) | 백테스팅으로 검증 |
| 4 | 로컬 PC/NAS가 24시간 가동될 것 | 사용자 환경 확인 |

### 6.2 Top 5 리스크 보드

| # | 가정 | 리스크 | 완화 | 트리거 | 대응 |
|---|------|--------|------|--------|------|
| 1 | AI 조언이 정확할 것 | AI 조언으로 손실 발생 | 면책 고지, 백테스팅 공개 | 조언 정확도 \< 50% | 모델 개선, 사용자 피드백 |
| 2 | 사용자가 꾸준히 입력할 것 | 데이터 부족으로 조언 품질 하락 | CSV 일괄 업로드 기능 | 월 입력 \< 3건 | 입력 가이드 제공 |
| 3 | 외부 API 안정적 | yfinance API 장애 | 캐싱, 대체 API 준비 | API 응답 실패 | 캐시 데이터 사용 |
| 4 | PC/NAS 24시간 가동 | 서비스 접속 불가 | Docker 자동 재시작 | 다운타임 \> 1시간 | 재시작 가이드 |
| 5 | 데이터 백업 | 데이터 손실 | Docker Volume 외부 마운트 | 데이터 손실 발생 | 복구 불가 → 재입력 |

---

## 7. 해결 가설과 실험

### 7.1 가설

> 만약 **투자 초보자에게 AI가 구체적인 매수/매도 조언**을 주면,
> **투자 결정의 자신감이 높아져 자산 증식률이 개선**될 것이다.
> 왜냐하면 초보자는 "언제 팔아야 하는지"를 가장 어려워하기 때문이다.

### 7.2 실험 루프

| 단계 | 내용 |
|------|------|
| 실험 | MVP 출시 후 1개월간 AI 조언 제공 |
| 관측 | AI 조언 vs 실제 결과 비교, 사용자 만족도 |
| 학습 | 조언 정확도 ≥ 60%면 성공, \< 50%면 모델 개선 |
| 다음 | 정확도 개선 후 v2에서 자동 알림 추가 |

---

## Decision Log 참조

| ID | 항목 | 선택 | 근거 | 영향 |
|----|------|------|------|------|
| D-01 | 프로젝트명 | 자산관리현황 | 직관적이고 명확 | 브랜딩, 도메인 |
| D-02 | MVP 핵심 | AI 투자조언 | 차별화 포인트 | 개발 우선순위 최상위 |
| D-03 | 계좌 연동 | 수동 입력 | 공개 API 없음 | 사용자 입력 부담 증가 |
| D-04 | 배포 환경 | 로컬 PC/NAS | 개인용, 비용 절감 | 외부 접속 제한 |
| D-05 | UI 스타일 | 노션 스타일 | 담백하고 간결 | 디자인 시스템 방향 |
| D-06 | 성공 지표 | 1년 자산 10% 증가 | 측정 가능, 명확 | 장기 목표 설정 |
